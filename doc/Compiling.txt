Compiling AbacusCM
******************

Before you can compile AbacusCM you need the following pieces of software
installed:

* g++ (3.3.x and 3.4.x works, 4.x.x should also work).
* Qt3 (only required for client)
* OpenSSL (Any version should work).
* MySQL 4.1.x (Whilst in theory any RDB could work currently only MySQL is
  supported - only required for server).
* GNU make (the build process uses patterns and other cool features only
  supported by GNU make).

If you need (want) to compile everything, just run make.

If you only want to compile certain components, copy Makefile.conf.sample to
Makefile.conf and edit (there is details in the file).  From here you should
be able to run make and only get what you want.

There is currently no official installation procedure for AbacusCM.  Please
follow the following procedures:

AbacusCM client:
***************

(Script: misc/installclient.sh - as root)

* copy bin/abacus into a location in your PATH (/usr/local/bin).
* copy conf/client.conf.sample to /etc/abacus/client.conf.
* Edit /etc/abacus/client.conf according to your needs (Remember to obtain to
  cacert from the contest administrator).

AbacusCM server:
***************

The easiest is to run the server from the compile location.  The required
rpath's will be set, so just do the following:

* copy conf/server.conf.sample to conf/server.conf
* edit conf/server.conf to your needs (Please see Creating_a_Contest.txt for details).
* run the server with bin/abacusd conf/server.conf

You really should read Creating_a_Contest.txt.

AbacusCM marker:
***************

(Script: misc/installmarker.sh - as root)

* copy bin/markerd into a location such as /usr/local/bin
* copy bin/runlimit into /usr/local/bin
* useradd markerd -g markerd -s /bin/bash -m -k /etc/skel
* make sure it's owned root:markerd: chown root: /usr/local/bin/markerd
* fix privs: chmod 4750 /usr/local/bin/markerd

Please note that the markerd process normally assumes there is exactly one
markerd running on each machine.  With multi-core machines this need not be the
case, you can duplicate /etc/abacus/marker.conf into multiple config files and
just make sure each one has a different user and group parameter, and
preferably a separate username and password for the server.  Then invoke
markerd with the explicit path to the individual config files.

Other support programs:
**********************

There are other programs like balloon, adduser and standings.  These are
described in various other pieces of documentation.  You should be able to run
them in-place, or copy them anywhere you need them.
