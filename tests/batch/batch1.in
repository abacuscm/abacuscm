# Run this one first on a pristine database (you might need to change the
# admin password back to 'admin' first though).

whatami

auth
user:admin
pass:admin

whatami

adduser
username:test1
friendlyname:Unicode: ēßõ±°½—£
passwd:testtmp
type:contestant

getusers

passwd
newpass:admin

id_passwd
user_id:17
newpass:test1

getlanguages

getprobtypes

getprobdescript
type:tcprob

setprobattrs
prob_id:0
prob_type:tcprob
time_limit:5
ignore_whitespace:Yes
shortname:test
longname:Test Problem
multi_submit:No
testcase.input<tests/batch/data.in
testcase.output<tests/batch/data.out

getprobattrs
prob_id:1

getprobfile
prob_id:1
file:testcase.input

getproblems

getsubmissibleproblems

getsubmissions

standings

clarificationrequest
prob_id:1
question:Question?

clarification
clarification_request_id:1
answer:Public answer, with unicode: £À´´µ¶
public:1

clarification
clarification_request_id:1
answer:Private answer.Second line.
public:0

getclarificationrequests

getclarifications

# A time in the past, so that contest will start
startstop
action:start
time:1290000000
server_id:all

# Send same time again, to check that that doesn't break it
startstop
action:start
time:1290000000
server_id:all

# Hopefully a long time in the future
startstop
action:stop
time:2063050000
server_id:all

contesttime

subscribetime

eventmap
event:balloon
action:subscribe

eventmap
event:startstop
action:subscribe

eventmap
event:updateclarifications
action:subscribe

eventmap
event:updateclarificationrequests
action:subscribe

eventmap
event:updateclock
action:subscribe

eventmap
event:updatestandings
action:subscribe

eventmap
event:updatesubmissions
action:subscribe

getserverlist

# Still TODO:
# submit
# getsubmissionsource
# getsubmissions (with submissions)
# getstandings (with non-trivial standings)
# mark
# fetchfile
# subscribemark
# addserver
